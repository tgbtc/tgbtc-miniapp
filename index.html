<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>tgBTC Fi MiniApp (test)</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; padding: 16px; }
    .card { padding: 12px; border: 1px solid #ddd; border-radius: 12px; margin-bottom: 12px; }
    button { width: 100%; padding: 12px; border-radius: 12px; border: 0; font-size: 16px; }
  </style>
</head>
<body>
  <h2>tgBTC Fi MiniApp — test</h2>

  <div class="card" id="info">Загрузка…</div>

  <button id="openTeleport">Открыть teleport.tg (в браузере)</button>

  <script>
    const tg = window.Telegram?.WebApp;

    if (tg) {
      tg.ready();
      const u = tg.initDataUnsafe?.user;
      document.getElementById('info').innerHTML = `
        <b>Telegram WebApp подключен ✅</b><br/>
        user: ${u ? `${u.first_name || ""} (@${u.username || "no_username"})` : "нет данных"}<br/>
        platform: ${tg.platform}<br/>
        version: ${tg.version}<br/>
        colorScheme: ${tg.colorScheme}
      `;
    } else {
      document.getElementById('info').innerHTML = `<b>Открыто вне Telegram WebApp</b>`;
    }

    document.getElementById('openTeleport').onclick = () => {
      // В Mini App это откроется внешним браузером
      if (tg) tg.openLink("https://teleport.tg/");
      else window.open("https://teleport.tg/", "_blank");
    };
  </script>
</body>
</html>
